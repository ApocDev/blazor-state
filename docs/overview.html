<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Blazor-State </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Blazor-State ">
    <meta name="generator" content="docfx 2.40.7.0">
    
    <link rel="shortcut icon" href="../assets/Logo.png">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../assets/Logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="blazor-state">Blazor-State</h1>

<p>Blazor-State is a client side pipeline architecture utilizing MediatR with plugin behaviors.</p>
<p>If you are familiar with
<a href="https://github.com/jbogard/MediatR">MediatR</a>,
<a href="https://redux.js.org/">Redux</a>,
or the <a href="https://en.wikipedia.org/wiki/Command_pattern">Command Pattern</a>
you will feel right at home.
All of the behaviors are written as plug-ins/middle-ware and attached to the MediatR pipeline.
You can pick and choose which behaviors you would like to use or even write your own.</p>
<p>Please see our <strong><a href="https://github.com/TimeWarpEngineering/blazor-state">GitHub Site</a></strong> for source and filing of issues.</p>
<h2 id="installation">Installation</h2>
<p>Blazor-State is available as a <a href="https://www.nuget.org/packages/Blazor-State/">Nuget Package</a></p>
<pre><code>dotnet add package Blazor-State
</code></pre>
<h2 id="getting-started">Getting Started</h2>
<p>After you have completed the <a href="https://docs.microsoft.com/en-us/aspnet/core/client-side/spa/blazor/get-started">getting started for blazor</a>
the easiest way to get started with blazor-state is to follow the <a class="xref" href="../samples/BlazorStateSample/README.html">tutorial</a>.</p>
<p>Or create new application based on the <a href="Template/TemplateOverview.html">timewarp-blazor template</a></p>
<h2 id="architecture">Architecture</h2>
<p>Blazor-State Implements a single <code>Store</code> with a collection of <code>State</code>s.
The MediatR pipeline allows for easy integration
by registering an interface with the DI container.</p>
<pre><code class="lang-csharp">services.AddScoped(typeof(IPipelineBehavior&lt;,&gt;), typeof(CloneStateBehavior&lt;,&gt;));
services.AddScoped(typeof(IPipelineBehavior&lt;,&gt;), typeof(DevToolsBehavior&lt;,&gt;));
</code></pre>
<p>The three interfaces available to extend the Pipeline are <code>IPipelineBehavior</code>, <code>IRequestPreProcessor</code>,
and <code>IRequestPostProcessor</code>;</p>
<p>All of the behaviors in Blazor-State are implemented via one of these interfaces.
You can integrate into the pipeline as well by implementing and registering one of these interfaces.</p>
<h3 id="javascript-interop">JavaScript Interop</h3>
<p>Blazor-State uses the same &quot;Command Pattern&quot; for JavaScript interoperability.
The JavaScript creates a request and dispatches it to Blazor where it is added to the pipeline.
Handlers on the Blazor side can callback to the JavaScript side if needed.</p>
<h3 id="behaviors">Behaviors</h3>
<h4 id="clonestatebehavior">CloneStateBehavior</h4>
<p>&quot;Don't mutate state&quot; always return a new state.
The <code>CloneStateBehavior</code> behavior handles that for you by creating a clone of the <code>State</code>
prior to processing the <code>Request</code>
and updating <code>State</code> upon completion.  (Single responsibility principle)</p>
<h4 id="reduxdevtoolsbehavior">ReduxDevToolsBehavior</h4>
<p>One of the nice features of redux is the
<a href="https://github.com/zalmoxisus/redux-devtools-extension">developer tools</a>.
They allow for the monitoring of State transitions, time travel and more.
This behavior implements the integration of these developer tools.</p>
<p>Redux Devtools implemented feautres:</p>
<ul>
<li><p>Actions are logged to the Redux developer tools.</p>
</li>
<li><p>Time Travel is supported.</p>
</li>
</ul>
<p>Other developer tools commands are not yet implemented (Would be good spot for a PR)</p>
<h2 id="terminology">Terminology</h2>
<p>The pattern used by Blazor-State and MediatR has been around for many years and goes by different names.
Given we are using MediatR will use the names associated with it but list other terminology here for clarification.</p>
<h3 id="signalsactionsrequestscommands">Signals/Actions/<strong>Requests</strong>/Commands/</h3>
<p>In Redux they call them &quot;Action&quot;.<br>
In UML they are &quot;Signal&quot;.<br>
In Command Pattern they are &quot;Command&quot;<br>
In MediatR they are <code>Request</code></p>
<h3 id="reducerhandlerexecutor">Reducer/<strong>Handler</strong>/Executor</h3>
<p>This is the code that processes the <code>Request</code> and returns the <code>Response</code>.</p>
<p>In Redux they call them &quot;Reducer&quot;.
(State in, State out, doesn't reduce anything yet they still call them that)<br>
In Command Pattern we call them &quot;Executor&quot;.<br>
In MediatR they are <code>Handler</code>.</p>
<h3 id="feature">Feature</h3>
<p>A Feature is the collection of the code needed to implement a
particular <a href="https://jimmybogard.com/vertical-slice-architecture/">Vertical Slice</a>
of the application.</p>
<p>On the server side we use the same architecture,
(see sample in Hosted Server), where the Features contain
<code>Controller</code>, <code>Handler</code>, <code>Request</code>, <code>Response</code>, etc...
Each endpoint has its own controller
which maps the HTTP Request to the <code>Request</code> Object and then sends
it to the mediator.
The <code>Handler</code> acts on the <code>Request</code> and returns a <code>Response</code>.</p>
<p>Server side follows the <code>Request</code> in <code>Response</code> out pattern.</p>
<p>A Feature Folder on the client side will contain a <code>Request</code> and the <code>Handler</code>
and any corresponding files needed for this feature.
The &quot;Response&quot; of client side feature is its <code>State</code>.</p>
<p>Client side follows the <code>State</code> in new <code>State</code> out pattern.</p>
<h3 id="purefunctions-vs-nonpurefunctions">PureFunctions vs NonPureFunctions:</h3>
<p>Blazor-State does not distinguish these.
As they are processed via the pipeline the same.
Thus, async calls to fetch data, send emails, or just update local state
are implemented in the same manner. Although the developer <strong>should</strong> be aware that Handlers have side effects and
if the developer chose they could mark the Requests as such. i.e. IRequestWithSideEffect</p>
<h2 id="acknowledgements">Acknowledgements</h2>
<p>Jimmy Bogard (MediatR). Jimmy is an amazing developer and a knowledge sharer.<br>
Through his course at <a href="https://11xengineering.com/">https://11xengineering.com/</a> ,
his many blog posts on Los Techies and now <a href="https://jimmybogard.com/">https://jimmybogard.com/</a>.
I have learned great amounts.</p>
<p>Peter Morris (<a href="https://github.com/mrpmorris/blazor-fluxor">Blazor-Fluxor</a>). Pete and I
have been friends for many years and he is an amazing developer and person who has taught me much.
Not surprisingly Pete and I think much alike.
We independently started working on our blazor state management
components. Although I started first :P (By like a few days)
Pete's component attempts to solve most of the same problems.
Blazor-State draws on the strengths of a proven pipeline in MediatR where as Fluxor
implements its own middle-ware.<br>
If Blazor-State does not meet your needs be sure to checkout Fluxor.</p>
<p>Tor Hovland (<a href="https://github.com/torhovland/blazor-redux">Blazor-Redux</a>).
I have only know Tor for a short time via the gitter on Blazor but he is already stimulating ideas.
If you use F# and need redux like functionality checkout his library.</p>
<h2 id="license">License</h2>
<p>The Unlicense [https://choosealicense.com/licenses/unlicense/]</p>
<h2 id="contributing">Contributing</h2>
<p>Time is of the essence.  Before developing a Pull Request I recommend opening an issue for discussion.</p>
<p>Please feel free to make suggestions and help out with the DocFx documentation.
Refer to <a href="https://daringfireball.net/projects/markdown/">Markdown</a> for how to write markdown files.</p>

<p>2019-01-05 12:59:58</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/TimeWarpEngineering/blazor-state/blob/master/documentation/docs/overview.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
